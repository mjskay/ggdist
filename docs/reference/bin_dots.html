<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bin data values using a dotplot algorithm — bin_dots • ggdist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bin data values using a dotplot algorithm — bin_dots"><meta name="description" content="Bins the provided data values using one of several dotplot algorithms."><meta property="og:description" content="Bins the provided data values using one of several dotplot algorithms."><meta property="og:image" content="https://mjskay.github.io/ggdist/logo.svg"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93322-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93322-5');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggdist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dotsinterval.html">Dots + interval stats and geoms</a></li>
    <li><a class="dropdown-item" href="../articles/freq-uncertainty-vis.html">Frequentist uncertainty visualization</a></li>
    <li><a class="dropdown-item" href="../articles/lineribbon.html">Lineribbon stats and geoms</a></li>
    <li><a class="dropdown-item" href="../articles/slabinterval.html">Slab + interval stats and geoms</a></li>
    <li><a class="dropdown-item" href="../articles/thickness.html">Thickness scale</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mjskay/ggdist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Bin data values using a dotplot algorithm</h1>
      <small class="dont-index">Source: <a href="https://github.com/mjskay/ggdist/blob/HEAD/R/binning_methods.R" class="external-link"><code>R/binning_methods.R</code></a></small>
      <div class="d-none name"><code>bin_dots.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Bins the provided data values using one of several dotplot algorithms.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bin_dots</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">binwidth</span>,</span>
<span>  heightratio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  stackratio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bin"</span>, <span class="st">"weave"</span>, <span class="st">"hex"</span>, <span class="st">"swarm"</span>, <span class="st">"bar"</span><span class="op">)</span>,</span>
<span>  side <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"topright"</span>, <span class="st">"top"</span>, <span class="st">"right"</span>, <span class="st">"bottomleft"</span>, <span class="st">"bottom"</span>, <span class="st">"left"</span>, <span class="st">"topleft"</span>,</span>
<span>    <span class="st">"bottomright"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  orientation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"horizontal"</span>, <span class="st">"vertical"</span>, <span class="st">"y"</span>, <span class="st">"x"</span><span class="op">)</span>,</span>
<span>  overlaps <span class="op">=</span> <span class="st">"nudge"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>&lt;<a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a>&gt; <em>x</em> values.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>&lt;<a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a>&gt; <em>y</em> values (same length as <code>x</code>).</p></dd>


<dt id="arg-binwidth">binwidth<a class="anchor" aria-label="anchor" href="#arg-binwidth"></a></dt>
<dd><p>&lt;scalar <a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a>&gt; Bin width.</p></dd>


<dt id="arg-heightratio">heightratio<a class="anchor" aria-label="anchor" href="#arg-heightratio"></a></dt>
<dd><p>&lt;scalar <a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a>&gt; Ratio of bin width to dot height</p></dd>


<dt id="arg-stackratio">stackratio<a class="anchor" aria-label="anchor" href="#arg-stackratio"></a></dt>
<dd><p>&lt;scalar <a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a>&gt; Ratio of dot height to vertical distance
between dot centers</p></dd>


<dt id="arg-layout">layout<a class="anchor" aria-label="anchor" href="#arg-layout"></a></dt>
<dd><p>&lt;<a href="https://rdrr.io/r/base/character.html" class="external-link">string</a>&gt; The layout method used for the dots. One of:</p><ul><li><p><code>"bin"</code> (default): places dots on the off-axis at the midpoint of
their bins as in the classic Wilkinson dotplot. This maintains the
alignment of rows and columns in the dotplot. This layout is slightly
different from the classic Wilkinson algorithm in that: (1) it nudges
bins slightly to avoid overlapping bins and (2) if the input data are
symmetrical it will return a symmetrical layout.</p></li>
<li><p><code>"weave"</code>: uses the same basic binning approach of <code>"bin"</code>, but
places dots in the off-axis at their actual positions (unless
<code>overlaps = "nudge"</code>, in which case overlaps may be nudged out of the
way). This maintains the alignment of rows but does not align dots
within columns.</p></li>
<li><p><code>"hex"</code>: uses the same basic binning approach of <code>"bin"</code>, but
alternates placing dots <code>+ binwidth/4</code> or <code>- binwidth/4</code> in the
off-axis from the bin center. This allows hexagonal packing by setting
a <code>stackratio</code> less than 1 (something like <code>0.9</code> tends to work).</p></li>
<li><p><code>"swarm"</code>: uses the <code>"compactswarm"</code> layout from
<code><a href="https://rdrr.io/pkg/beeswarm/man/beeswarm.html" class="external-link">beeswarm::beeswarm()</a></code>. Does not maintain alignment of rows or columns,
but can be more compact and neat looking, especially for sample data
(as opposed to quantile dotplots of theoretical distributions, which
may look better with <code>"bin"</code>, <code>"weave"</code>, or <code>"hex"</code>).</p></li>
<li><p><code>"bar"</code>: for discrete distributions, lays out duplicate values in
rectangular bars.</p></li>
</ul></dd>


<dt id="arg-side">side<a class="anchor" aria-label="anchor" href="#arg-side"></a></dt>
<dd><p>Which side to place the slab on. <code>"topright"</code>, <code>"top"</code>, and <code>"right"</code> are synonyms
which cause the slab to be drawn on the top or the right depending on if <code>orientation</code> is <code>"horizontal"</code>
or <code>"vertical"</code>. <code>"bottomleft"</code>, <code>"bottom"</code>, and <code>"left"</code> are synonyms which cause the slab
to be drawn on the bottom or the left depending on if <code>orientation</code> is <code>"horizontal"</code> or
<code>"vertical"</code>. <code>"topleft"</code> causes the slab to be drawn on the top or the left, and <code>"bottomright"</code>
causes the slab to be drawn on the bottom or the right. <code>"both"</code> draws the slab mirrored on both
sides (as in a violin plot).</p></dd>


<dt id="arg-orientation">orientation<a class="anchor" aria-label="anchor" href="#arg-orientation"></a></dt>
<dd><p>&lt;<a href="https://rdrr.io/r/base/character.html" class="external-link">string</a>&gt; Whether the dots are laid out horizontally
or vertically. Follows the naming scheme of <code><a href="geom_slabinterval.html">geom_slabinterval()</a></code>:</p><ul><li><p><code>"horizontal"</code> assumes the data values for the dotplot are in the <code>x</code>
variable and that dots will be stacked up in the <code>y</code> direction.</p></li>
<li><p><code>"vertical"</code> assumes the data values for the dotplot are in the <code>y</code>
variable and that dots will be stacked up in the <code>x</code> direction.</p></li>
</ul><p>For compatibility with the base ggplot naming scheme for <code>orientation</code>,
<code>"x"</code> can be used as an alias for <code>"vertical"</code> and <code>"y"</code> as an alias for
<code>"horizontal"</code>.</p></dd>


<dt id="arg-overlaps">overlaps<a class="anchor" aria-label="anchor" href="#arg-overlaps"></a></dt>
<dd><p>&lt;<a href="https://rdrr.io/r/base/character.html" class="external-link">string</a>&gt; How to handle overlapping dots or bins in the <code>"bin"</code>,
<code>"weave"</code>, and <code>"hex"</code> layouts (dots never overlap in the <code>"swarm"</code> or <code>"bar"</code> layouts).
For the purposes of this argument, dots are only considered to be overlapping
if they would be overlapping when <code>dotsize = 1</code> and <code>stackratio = 1</code>; i.e.
if you set those arguments to other values, overlaps may still occur.
One of:</p><ul><li><p><code>"keep"</code>: leave overlapping dots as they are. Dots may overlap
(usually only slightly) in the <code>"bin"</code>, <code>"weave"</code>, and <code>"hex"</code> layouts.</p></li>
<li><p><code>"nudge"</code>: nudge overlapping dots out of the way. Overlaps are avoided
using a constrained optimization which minimizes the squared distance of
dots to their desired positions, subject to the constraint that adjacent
dots do not overlap.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> with three columns:</p><ul><li><p><code>x</code>: the x position of each dot</p></li>
<li><p><code>y</code>: the y position of each dot</p></li>
<li><p><code>bin</code>: a unique number associated with each bin
(supplied but not used when <code>layout = "swarm"</code>)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="find_dotplot_binwidth.html">find_dotplot_binwidth()</a></code> for an algorithm that finds good bin widths
to use with this function; <code><a href="geom_dotsinterval.html">geom_dotsinterval()</a></code> for geometries that use
these algorithms to create dotplots.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: 'dplyr'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:stats':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:base':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/ppoints.html" class="external-link">ppoints</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bin_df</span> <span class="op">=</span> <span class="fu">bin_dots</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="fl">0</span>, binwidth <span class="op">=</span> <span class="fl">0.5</span>, heightratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bin_df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             x    y bin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  -1.9599640 0.25   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -1.2949404 0.25   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  -1.2949404 0.75   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  -0.7661747 0.25   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  -0.7661747 0.75   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  -0.7661747 1.25   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -0.2582345 0.25   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  -0.2582345 0.75   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  -0.2582345 1.25   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 -0.2582345 1.75   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  0.2582345 0.25   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  0.2582345 0.75   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  0.2582345 1.25   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0.2582345 1.75   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  0.7661747 0.25   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  0.7661747 0.75   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  0.7661747 1.25   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  1.2949404 0.25   7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  1.2949404 0.75   7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  1.9599640 0.25   8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can manually plot the binning above, though this is only recommended</span></span></span>
<span class="r-in"><span><span class="co"># if you are using find_dotplot_binwidth() and bin_dots() to build your own</span></span></span>
<span class="r-in"><span><span class="co"># grob. For practical use it is much easier to use geom_dots(), which will</span></span></span>
<span class="r-in"><span><span class="co"># automatically select good bin widths for you (and which uses</span></span></span>
<span class="r-in"><span><span class="co"># find_dotplot_binwidth() and bin_dots() internally)</span></span></span>
<span class="r-in"><span><span class="va">bin_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bin_dots-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.mjskay.com" class="external-link">Matthew Kay</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

